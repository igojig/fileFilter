### Тестовое задание для ЦФТ ШИФТ
### Задача:
Утилита фильтрации содержимого файлов.
При запуске утилиты в командной строке подается несколько файлов, содержащих в
перемешку целые числа, строки и вещественные числа. В качестве разделителя
используется перевод строки. Строки из файлов читаются по очереди в соответствии с их
перечислением в командной строке.</br>
Задача утилиты записать разные типы данных в разные файлы. Целые числа в один
выходной файл, вещественные в другой, строки в третий.

### Запуск
`java -jar file-filter.jar [options] file1 [, file2, ...]`</br>
- `file1, [, file2, ...]` - список файлов для обработки, может содержать директории
- `options:`
  - `-p` устанавливает префикс для выходных файлов. По умолчанию - пустая строка.
  - `-o` устанавливает путь для записи выходных файлов. По умолчанию - текущая директория <sup id="a1">[1](#f1)</sup>
  - `-a` добавляет результат в существующие файлы, или создает новые, если файлы не существуют
  - `-s` собирает краткую статистику по обрабатываемым данным <sup id="a1">[2](#f2)</sup>
  - `-f` собирает полную статистику по обрабатываемым данным <sup id="a1">[3](#f3)</sup>
  - `--help` выводит справку

Например, команда```java -jar file-filer.jar -a -f -p prfx- -o outs in1.txt in2.txt int3.txt```</br>
добавит данные в файлы (или создаст новые, если таких файлов нет) `/outs/prfx-integers.txt`, `/outs/prfx-floats.txt`, `/outs/prfx-strings.txt`.
И выведет полную статистику по обработанным данным.
Директория  `outs` будет находится внутри директории где располагается программа.

#### Примечания
> <sup id="f1">1</sup> Пути разрешаются относительно текущей директории программы. Таким образом
флаг `-o outs` будет записывать файлы в директорию `outs` внутри той директории где находится программа.
Флаг `-o /outs` создаст директорию `outs` в корневой директории относительно текущей директории программы.

> <sup id="f2">2</sup> Краткая статистка включает в себя только информацию о количестве записанных данных каждого вида.

> <sup id="f3">3</sup> Полная статистика для чисел
дополнительно содержит минимальное и максимальное значения, сумма и среднее.
Полная статистика для строк, помимо их количества, содержит также размер самой
короткой строки и самой длинной.

> По умолчанию статистика не собирается. 

> По умолчанию файлы с
результатами располагаются в текущей папке с именами integers.txt, floats.txt, strings.txt.

> Файлы с результатами создаются по мере необходимости. Если какого-то типа
данных во входящих файлах нет, то и соответствующий исходящий файл не создается.

> Имена файлов для данных:
>  - ```integers.txt``` для целочисленных данных
>  - ```floats.txt``` для вещественных данных
>  - ```strings.txt``` для строковых данных

### Особенности реализации
 - Не создается никаких буферов (за исключением тех, которые создают `BufferedReader`, `BufferedWriter`).
Программа читает файлы построчно, и отправляет строку на обработку и так далее.
 - Список файлов на обработку валидируется и если какой-то файл невозможно открыть, то происходит переход к следующему файлу.
Если ни одного входящего файла не обнаружено, то программа завершает работу. 
 - Если в процессе чтения данных происходит ошибка, то программа пытается обработать следующие файлы.
 - Префикс (параметр `-p`) валидируется, и не должен содержать путей. Если префикс невалидный, 
устанавливается префикс по умолчанию - пустая строка. 
 - Путь для записи (параметр `-o`) валидируется. Проверяется возможность создать такой путь и записать в него файлы.
Если путь невалидный, то устанавливается путь по умолчанию - текущая директория программы.
 - При ошибках записи программа завершает работу.
 - Для вывода сообщений об ошибках используется библиотека `Log4j2`, уровень логирования установлен в `INFO`
 - Для парсинга параметров командной строки используется библиотека `JCommander`

### Сборка проекта и запуск

Для сборки используется `maven`

`git clone https://github.com/igojig/fileFilter.git`

`cd .\fileFilter\`

`mvn clean package`

`cd .\target\`

`java -jar .\file-filter.jar  [options] file1 [, file2, ...]`

### Используемые библиотеки и системы сборки
- `Java 17`
- `JCommander` - для парсинга аргументов командной строки. 
```xml
    <dependency>
        <groupId>org.jcommander</groupId>
        <artifactId>jcommander</artifactId>
        <version>2.0</version>
    </dependency>
```
- `Log4j2` - для вывода сообщений об ошибках
```xml
    <dependency>
        <groupId>org.apache.logging.log4j</groupId>
        <artifactId>log4j-api</artifactId>
        <version>2.12.4</version>
    </dependency>

    <dependency>
        <groupId>org.apache.logging.log4j</groupId>
        <artifactId>log4j-core</artifactId>
        <version>2.12.4</version>
    </dependency>
```
- `Lombok`
```xml
    <dependency>
        <groupId>org.projectlombok</groupId>
        <artifactId>lombok</artifactId>
        <version>1.18.36</version>
        <scope>provided</scope>
    </dependency>
```
 - `maven-compiler-plugin`
```xml   
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-compiler-plugin</artifactId>
    <version>3.13.0</version>
```
- `maven-assembly-plugin`
```xml
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-assembly-plugin</artifactId>
    <version>3.7.1</version>
```






